{% extends "base.html" %}
{%- from 'govuk_frontend_jinja/components/back-link/macro.html' import govukBackLink -%}
{%- from "govuk_frontend_jinja/components/table/macro.html" import govukTable -%}
{%- from 'govuk_frontend_jinja/components/textarea/macro.html' import govukTextarea -%}
{% from "macros/banner_summary.html" import banner_summary %}
{% from "macros/logout_partial.html" import logout_partial %}

{% block content %}
    <div class="govuk-phase-banner flex-parent-element">
        <p class="govuk-!-text-align-left flex-parent-element flexed-element-margins-collapse">
            <a href="{{url_for('assess_bp.application', application_id=application_id)}}" class="govuk-back-link" data-qa="back-to-assessment-overview-link">
                Back to <b>assessment overview</b></a>
        </p>
        {{ logout_partial(sso_logout_url) }}
    </div>

    {{ banner_summary(
        fund_name,
        banner_state.short_id,
        banner_state.project_name,
        banner_state.funding_amount_requested,
        banner_state.workflow_status,
        g.user.highest_role,
        flag
    ) }}

    <div class="govuk-width-container">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <div class="govuk-grid-column-two-thirds">
                    <form method="POST">
                        {{ form.csrf_token }}
                        <h1 class="govuk-heading govuk-heading-l">Mark QA as complete</h1>

                        <p class="govuk-body">This will confirm you've completed quality assurance (QA) on this application.</p>
                        <p class="govuk-body">It may be selected for moderation after you've done this.</p>

                        <div class="govuk-button-group">
                            <button class="govuk-button primary-button" data-module="govuk-button">
                                Submit
                            </button>
                            <a href="{{ url_for('assess_bp.application', application_id=application_id) }}" class="govuk-button secondary-button govuk-link--no-visited-state">
                                Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
